(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{103:function(e,t,a){e.exports=a(181)},180:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(97),r=a(98),o=a(101),l=a(99),c=a(102),u=a(0),i=a.n(u),d=a(39),p=a(9),s="INPUT_CHANGE",f="ADD_TODO",y="FINISH_TODO",m="UNFINISH_TODO",E="DEL_TODO";var O=Object(p.b)((function(e){return{inputValue:e.todoReducer.inputValue}}),(function(e){return{handleChange:function(t){var a=t.target;e({type:s,payload:a.value})},onAdd:function(t){return 13===t.keyCode?e({type:f}):""}}}))((function(e){var t=e.inputValue,a=e.handleChange,n=e.onAdd;return i.a.createElement("input",{value:t,onChange:a,placeholder:"Text todo",onKeyUp:n})}));var b=Object(p.b)(null,(function(e){return{onAdd:function(){return e({type:f})}}}))((function(e){var t=e.onAdd;return i.a.createElement("button",{className:"danger",onClick:t},"Add")}));var h=Object(p.b)(null,(function(e){return{finish:function(t){return e({type:y,payload:t})},unfinish:function(t){return e({type:m,payload:t})},del:function(t){return e({type:E,payload:t})}}}))((function(e){var t=e.todo,a=e.finish,n=e.unfinish,r=e.del,o=e.todo,l=o.title,c=o.date,u=o.completed;return i.a.createElement("div",{className:"todo-wrap"},i.a.createElement("p",{className:"".concat(u?"line-through":""," todo-title")},l),i.a.createElement("p",{className:"todo-date"},new Date(c).toLocaleString()),i.a.createElement("div",{className:"buttons"},u?i.a.createElement("button",{className:"primary",onClick:function(){return n(t)}},"Unfinish"):i.a.createElement("button",{className:"primary",onClick:function(){return a(t)}},"Finish"),i.a.createElement("button",{className:"danger",onClick:function(){return r(t)}},"Delete")))}));var v=Object(p.b)((function(e){return{todos:e.todoReducer.todos,loader:e.loaderReducer}}),null)((function(e){var t=e.todos,a=e.loader,n=t.length>0&&!a?t.map((function(e){return i.a.createElement(h,{todo:e,key:e.date})})):"",r=t.length<1&&!a?i.a.createElement("h2",null,"No todos..."):"";return i.a.createElement("div",{className:"todos-wrap"},n,r)})),A=a(20),D=a(25),N=a(11),g={inputValue:"",todos:[],filterValue:""},j=Object(A.c)({todoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(N.a)({},e,{inputValue:t.payload});case f:return Object(N.a)({},e,{inputValue:"",todos:[t.payload].concat(Object(D.a)(e.todos))});case"FETCH_TODOS":var a=[].concat(Object(D.a)(e.todos),Object(D.a)(t.payload)),n=a.sort((function(e,t){return t.date-e.date}));return Object(N.a)({},e,{todos:Object(D.a)(n)});case"UPDATE_TODOS":var r=Object(D.a)(t.payload);return Object(N.a)({},e,{todos:r});default:return e}},loaderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADER_CHANGE":return t.payload;default:return e}}}),C=a(56);C.initializeApp({apiKey:"AIzaSyABBqiDrrRh4oqgdaHjz254QPfPueyKkAA",authDomain:"test-24da0.firebaseapp.com",databaseURL:"https://test-24da0.firebaseio.com",projectId:"test-24da0",storageBucket:"test-24da0.appspot.com",messagingSenderId:"515473552870",appId:"1:515473552870:web:44e756111f035e3b"});var _=C.database().ref().child("redux-todo/");function R(e){var t={};return e.map((function(e){return t[e.date]=e})),_.set(t)}var T=Object(A.d)(j,{},Object(A.a)((function(e){return function(t){return function(a){var n,r=e.getState().todoReducer.inputValue,o=e.getState().todoReducer.todos;if(a.type!==f){if("FETCH_TODOS"===a.type)return t({type:"LOADER_CHANGE",payload:!0}),new Promise((function(e,t){_.on("value",(function(t){var a=t.val(),n=[];a?(n=Object.values(a),e(n)):e(n)}))})).then((function(e){return t(Object(N.a)({},a,{payload:e}))})).catch((function(e){return console.log(e)})).finally((function(){return t({type:"LOADER_CHANGE",payload:!1})}));if(a.type===y){t({type:"LOADER_CHANGE",payload:!0});var l=o.map((function(e){return e.date===a.payload.date?Object(N.a)({},e,{completed:!0}):e}));return R(l).then((function(){return t({type:"UPDATE_TODOS",payload:l})})).finally((function(){return t({type:"LOADER_CHANGE",payload:!1})}))}if(a.type===m){t({type:"LOADER_CHANGE",payload:!0});var c=o.map((function(e){return e.date===a.payload.date?Object(N.a)({},e,{completed:!1}):e}));return R(c).then((function(){return t({type:"UPDATE_TODOS",payload:c})})).finally((function(){return t({type:"LOADER_CHANGE",payload:!1})}))}if(a.type===E){t({type:"LOADER_CHANGE",payload:!0});var u=o.filter((function(e){return e.date!==a.payload.date}));return R(u).then((function(){return t({type:"UPDATE_TODOS",payload:u})})).finally((function(){return t({type:"LOADER_CHANGE",payload:!1})}))}return t(a)}if(r.trim()){t({type:"LOADER_CHANGE",payload:!0});var i={title:r,completed:!1,date:Number(new Date)};return(n=i,_.child(n.date).set(n)).then((function(){t(Object(N.a)({},a,{payload:i}))})).catch((function(e){return console.log(e)})).finally((function(){return t({type:"LOADER_CHANGE",payload:!1})}))}}}})));T.subscribe((function(){console.log("Current state",T.getState())}));var H=T;function k(){return i.a.createElement("div",{className:"loader-wrap"},i.a.createElement("div",{className:"lds-ellipsis"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))}function L(){return i.a.createElement("footer",null,i.a.createElement("div",{className:"footer-wrap"},i.a.createElement("a",{id:"github-logo",href:"https://github.com/NURLYKHAN06/redux-todolist",target:"_blank"},""),i.a.createElement("p",null,"by"," ",i.a.createElement("a",{href:"https://nurlykhan06.github.io/",target:"_blank"},"nurlykhan"))))}a(180);var S=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){H.dispatch({type:"FETCH_TODOS"})}},{key:"render",value:function(){return i.a.createElement("div",{className:"content-wrap"},i.a.createElement("div",null,i.a.createElement("div",{className:"input-wrap"},i.a.createElement(O,null),i.a.createElement(b,null)),i.a.createElement(v,null)),i.a.createElement(L,null),this.props.loader&&i.a.createElement(k,null))}}]),t}(u.Component);var w=Object(p.b)((function(e){return{loader:e.loaderReducer}}),null)(S);Object(d.render)(i.a.createElement(p.a,{store:H},i.a.createElement(w,null)),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.4b6e6c84.chunk.js.map