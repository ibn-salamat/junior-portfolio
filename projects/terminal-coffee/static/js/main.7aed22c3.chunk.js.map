{"version":3,"sources":["components/Header.js","store/reducer.js","store/action.types.js","store/actions.js","store/store.js","store/data.products.js","lib/usePrevious.js","components/Place.js","components/Places.js","components/ProductView.js","lib/styles.js","components/ConfirmOrder.js","components/Products.js","components/Terminal.js","components/TableOrders.js","App.js","index.js"],"names":["Header","Logo","src","styled","div","reducer","state","action","payload","type","key","title","step","newProducts","products","map","product","newQuantity","quantity","id","orderId","currentPlace","newPlaces","places","place","owner","newOrder","total","remainingSeconds","timePrepare","processOrders","coffees","coffee","additional","item","finishedOrders","done","push","filter","order","INITIAL_STATE","price","imgSrc","Array","fill","index","store","React","createContext","Provider","StateProvider","children","useReducer","dispatch","prevState","value","ref","useRef","useEffect","current","usePrevious","watcher","length","setInterval","setTimeout","clearInterval","doneTime","Date","toLocaleTimeString","changeProcessOrder","Place","changePlace","Block","busy","onClick","Places","useContext","onChangePlace","Grid","ProductView","Product","GlobalStyle","createGlobalStyle","Controls","props","center","marginTop","Button","button","link","ConfirmOrder","orderedCoffees","orderedAdditional","setConfirmData","reduce","acc","ConfirmBox","newProps","coffes","Products","data","onChangeQuantity","ProductsWrap","ProductWrap","Terminal","useState","isTakeAway","setIsTakeAway","confirmData","TerminalWrap","Select","onChange","target","alert","select","TableOrders","Wrapper","Orders","App","ReactDOM","render","StrictMode","fallback","document","getElementById"],"mappings":"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","file":"static/js/main.7aed22c3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport function Header() {\r\n  return (\r\n    <Logo>\r\n      <img src={process.env.PUBLIC_URL + \"logo.png\"} />\r\n      <h1>React Coffee</h1>\r\n    </Logo>\r\n  );\r\n}\r\n\r\nconst Logo = styled.div`\r\n  display: flex;\r\n  padding: 10px 15px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  img {\r\n    width: 80px;\r\n  }\r\n`;\r\n","import {\r\n  CHANGE_QUANTITY,\r\n  CHANGE_PLACE,\r\n  TO_ORDER,\r\n  CHANGE_PROCESS_ORDER,\r\n} from \"./action.types\";\r\n\r\nexport const reducer = (state, action) => {\r\n  const { payload, type } = action;\r\n  switch (type) {\r\n    case CHANGE_QUANTITY:\r\n      const { key, title, step } = payload;\r\n      const newProducts = state.products[key].map((product) => {\r\n        if (product.title === title) {\r\n          const newQuantity = product.quantity + step;\r\n          return {\r\n            ...product,\r\n            quantity: newQuantity < 0 ? 0 : newQuantity,\r\n          };\r\n        }\r\n        return product;\r\n      });\r\n      return {\r\n        ...state,\r\n        products: { ...state.products, [key]: newProducts },\r\n      };\r\n    case CHANGE_PLACE:\r\n      const { id, orderId } = payload;\r\n      let currentPlace = null;\r\n      const newPlaces = state.places.map((place) => {\r\n        const isBusy = !!place.owner && place.owner !== orderId;\r\n        if (isBusy) return place;\r\n\r\n        if (place.id === id) {\r\n          currentPlace = place.owner ? null : place.id;\r\n          return {\r\n            id: place.id,\r\n            owner: place.owner ? null : orderId,\r\n          };\r\n        }\r\n        return {\r\n          id: place.id,\r\n          owner: null,\r\n        };\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        places: newPlaces,\r\n        currentPlace,\r\n      };\r\n    case TO_ORDER:\r\n      const newOrder = {\r\n        ...payload,\r\n        ...payload.total,\r\n        place: state.currentPlace,\r\n        remainingSeconds: payload.total.timePrepare * 60,\r\n      };\r\n\r\n      delete newOrder.total;\r\n\r\n      return {\r\n        ...state,\r\n        processOrders: [...state.processOrders, newOrder],\r\n        products: {\r\n          coffees: state.products.coffees.map((coffee) => ({ ...coffee, quantity: 0 })),\r\n          additional: state.products.additional.map((item) => ({ ...item, quantity: 0 })),\r\n        },\r\n        currentPlace: null,\r\n        orderId: state.orderId + 1,\r\n      };\r\n    case CHANGE_PROCESS_ORDER:\r\n      let processOrders = [...state.processOrders];\r\n      let finishedOrders = [...state.finishedOrders];\r\n\r\n      if (payload.done) {\r\n        finishedOrders.push(payload);\r\n        processOrders = processOrders.filter(\r\n          (order) => order.orderId !== payload.orderId\r\n        );\r\n      } else {\r\n        processOrders = state.processOrders.map((order) => {\r\n          return {\r\n            ...order,\r\n            remainingSeconds:\r\n              order.orderId === payload.orderId\r\n                ? order.remainingSeconds - 1\r\n                : order.remainingSeconds,\r\n          };\r\n        });\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        processOrders,\r\n        finishedOrders,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const CHANGE_QUANTITY = \"CHANGE_QUANTITY\";\r\nexport const CHANGE_PLACE = \"CHANGE_PLACE\";\r\nexport const TO_ORDER = \"TO_ORDER\";\r\nexport const CHANGE_PROCESS_ORDER = \"CHANGE_PROCESS_ORDER\";\r\n","import {\r\n  CHANGE_QUANTITY,\r\n  CHANGE_PLACE,\r\n  TO_ORDER,\r\n  CHANGE_PROCESS_ORDER,\r\n} from \"./action.types\";\r\n\r\nexport const changeQuantity = ({ dispatch, payload }) => {\r\n  // loader, requests\r\n  dispatch({\r\n    type: CHANGE_QUANTITY,\r\n    payload,\r\n  });\r\n};\r\n\r\nexport const changePlace = ({ dispatch, payload }) => {\r\n  // loader, requests\r\n  dispatch({\r\n    type: CHANGE_PLACE,\r\n    payload,\r\n  });\r\n};\r\n\r\nexport const toOrder = ({ dispatch, payload }) => {\r\n  // loader, requests\r\n  dispatch({\r\n    type: TO_ORDER,\r\n    payload,\r\n  });\r\n};\r\n\r\nexport const changeProcessOrder = ({ dispatch, payload }) => {\r\n  const id = setInterval(() => {\r\n    dispatch({\r\n      type: CHANGE_PROCESS_ORDER,\r\n      payload,\r\n    });\r\n  }, 1000 / 10);\r\n\r\n  setTimeout(() => {\r\n    clearInterval(id);\r\n    dispatch({\r\n      type: CHANGE_PROCESS_ORDER,\r\n      payload: {\r\n        ...payload,\r\n        done: true,\r\n        doneTime: new Date().toLocaleTimeString(),\r\n      },\r\n    });\r\n  }, (payload.remainingSeconds * 1000) / 10);\r\n};\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport { reducer } from \"./reducer\";\r\nimport { products } from \"./data.products\";\r\nimport { usePrevious } from \"../lib/usePrevious\";\r\nimport { changeProcessOrder } from \"./actions\";\r\n\r\nconst INITIAL_STATE = {\r\n  products,\r\n  processOrders: [],\r\n  finishedOrders: [],\r\n  places: new Array(9).fill(0).map((item, index) => ({ id: ++index, owner: null })), // [{id: 1, isBusy: false}]\r\n  orderId: 1, // next orderId\r\n  currentPlace: null,\r\n};\r\n\r\nconst store = React.createContext();\r\nconst { Provider } = store;\r\n\r\nconst StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE);\r\n  const prevState = usePrevious(state);\r\n\r\n  const watcher = () => {\r\n    const isInit = prevState;\r\n    if (!isInit) return;\r\n    if (state.processOrders.length > prevState.processOrders.length) {\r\n      changeProcessOrder({\r\n        dispatch,\r\n        payload: state.processOrders[state.processOrders.length - 1],\r\n      });\r\n    }\r\n  };\r\n\r\n  // Subscribe to changes\r\n  useEffect(() => {\r\n    watcher();\r\n  }, [state]);\r\n\r\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\r\n};\r\n\r\nexport { store, StateProvider };\r\n","export const products = {\r\n  coffees: [\r\n    {\r\n      title: \"Americano 0.5\",\r\n      price: 350,\r\n      timePrepare: 1,\r\n      quantity: 0,\r\n      imgSrc:\r\n        \"https://d2lswn7b0fl4u2.cloudfront.net/photos/pg-recipes-americano-1571757341897.jpg\",\r\n    },\r\n    {\r\n      title: \"Americano 0.75\",\r\n      price: 450,\r\n      timePrepare: 3,\r\n      quantity: 0,\r\n      imgSrc: \"https://www.comunicaffe.com/wp-content/uploads/2014/02/Americano1.jpeg\",\r\n    },\r\n    {\r\n      title: \"Latte 0.75\",\r\n      price: 400,\r\n      timePrepare: 3,\r\n      quantity: 0,\r\n      imgSrc: \"https://media-cdn.tripadvisor.com/media/photo-s/14/53/a4/c4/coffe.jpg\",\r\n    },\r\n    {\r\n      title: \"Expresso 0.5\",\r\n      price: 500,\r\n      timePrepare: 2,\r\n      quantity: 0,\r\n      imgSrc:\r\n        \"https://5.imimg.com/data5/DC/TD/MY-14296065/coffee-anise-cinnamon-spices-photo-wallpaper-2-copy-500x500.jpg\",\r\n    },\r\n  ],\r\n  additional: [\r\n    {\r\n      title: \"Сахар\",\r\n      price: 0,\r\n      quantity: 0,\r\n      timePrepare: 0,\r\n      imgSrc:\r\n        \"https://lh3.googleusercontent.com/proxy/DqyIoUZ_nu_REKwanKJKHJx4I4dXrLoW1wKvbUoeK3Ayyt2ytLETBjWpmR8t4-sg0GXkxX0zUe4Kypw4_s2TRxSopOHRrifGXhTcxJuNZCbY2Q\",\r\n    },\r\n    {\r\n      title: \"Пончик\",\r\n      price: 700,\r\n      quantity: 0,\r\n      timePrepare: 0,\r\n      imgSrc: \"https://www.gastronom.ru/binfiles/images/20170707/b04eaef7.jpg\",\r\n    },\r\n    {\r\n      title: \"Корица\",\r\n      price: 150,\r\n      quantity: 0,\r\n      timePrepare: 0,\r\n      imgSrc:\r\n        \"https://lh3.googleusercontent.com/proxy/DqyIoUZ_nu_REKwanKJKHJx4I4dXrLoW1wKvbUoeK3Ayyt2ytLETBjWpmR8t4-sg0GXkxX0zUe4Kypw4_s2TRxSopOHRrifGXhTcxJuNZCbY2Q\",\r\n    },\r\n  ],\r\n};\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport function usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport function Place({ id, owner, changePlace, orderId }) {\r\n  return (\r\n    <Block busy={owner} onClick={() => changePlace({ id, orderId })}>\r\n      {owner ? \"занято\" : `Номер:${id}`}\r\n    </Block>\r\n  );\r\n}\r\n\r\nconst Block = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 80px;\r\n  height: 80px;\r\n  border: 1px solid rgb(244, 67, 54);\r\n  margin: 5px 0;\r\n  border-radius: 5px;\r\n  background: ${({ busy }) => (busy ? \"rgb(244, 67, 54)\" : \"none\")};\r\n  color: ${({ busy }) => (busy ? \"#fff\" : \"#333\")};\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    box-shadow: 1px 2px 5px #afaaaab8;\r\n  }\r\n`;\r\n","import React, { useContext } from \"react\";\r\nimport { store } from \"../store/store\";\r\nimport { Place } from \"./Place\";\r\nimport { changePlace } from \"../store/actions\";\r\nimport styled from \"styled-components\";\r\n\r\nexport function Places() {\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  const onChangePlace = (payload) => {\r\n    changePlace({ dispatch, payload });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Выберите место</h2>\r\n      <Grid>\r\n        {state.places.map(({ id, owner }) => (\r\n          <Place\r\n            key={id}\r\n            id={id}\r\n            owner={owner}\r\n            orderId={state.orderId}\r\n            changePlace={onChangePlace}\r\n          />\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 100px 100px 100px;\r\n  grid-gap: 10px;\r\n  background-color: #fff;\r\n  color: #444;\r\n  padding: 10px;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport function ProductView({ title, price, timePrepare, quantity, imgSrc }) {\r\n  return (\r\n    <Product>\r\n      <p>\r\n        {title} - {price ? `${price} тенге` : \"Бесплатно\"}\r\n      </p>\r\n      {imgSrc && <img src={imgSrc} />}\r\n      {!!timePrepare && <p>Время приготовления: {timePrepare} минуты</p>}\r\n      {quantity && <p>Штук: {quantity}</p>}\r\n    </Product>\r\n  );\r\n}\r\n\r\nconst Product = styled.div`\r\n  img {\r\n    margin: 10px 0;\r\n    height: 180px;\r\n    object-fit: cover;\r\n    width: 100%;\r\n  }\r\n`;\r\n","import styled, { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  *{\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  body {\r\n    font-family: Bitter;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  img{\r\n    max-width: 100%;\r\n  }\r\n\r\n  button,input{\r\n    outline: none;\r\n    border:none;\r\n  }\r\n\r\n  button,a{\r\n    cursor: pointer;\r\n  }\r\n\r\n`;\r\n\r\nexport const Controls = styled.div`\r\n  padding: 10px;\r\n  display: flex;\r\n  justify-content: ${(props) => (props.center ? \"center\" : \"flex-start\")};\r\n  align-items: center;\r\n  margin-top: ${({ marginTop }) => (marginTop ? \"10px\" : 0)};\r\n\r\n  button {\r\n    margin: 0 5px;\r\n  }\r\n\r\n  p {\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  padding: 5px;\r\n  background: ${(props) => (props.link ? \"none\" : \"#62dbfb\")};\r\n  font-size: 18px;\r\n  color: ${(props) => (props.link ? \"#62dbfb\" : \"#fff\")};\r\n  border-radius: 5px;\r\n  margin: 0 3px;\r\n\r\n  &:hover {\r\n    box-shadow: 1px 2px 5px #afaaaab8;\r\n  }\r\n`;\r\n","import React, { useContext } from \"react\";\r\nimport { ProductView } from \"./ProductView\";\r\nimport { store } from \"../store/store\";\r\nimport { toOrder } from \"../store/actions\";\r\nimport { Button, Controls } from \"../lib/styles\";\r\nimport styled from \"styled-components\";\r\n\r\nexport function ConfirmOrder({ orderedCoffees, orderedAdditional, setConfirmData }) {\r\n  const { state, dispatch } = useContext(store);\r\n  const total = [...orderedCoffees, ...orderedAdditional].reduce(\r\n    (acc, item) => {\r\n      return {\r\n        timePrepare: item.quantity * item.timePrepare + acc.timePrepare,\r\n        price: item.quantity * item.price + acc.price,\r\n      };\r\n    },\r\n    { timePrepare: 0, price: 0 }\r\n  );\r\n\r\n  const onConfirm = () => {\r\n    const payload = {\r\n      coffes: orderedCoffees,\r\n      additional: orderedAdditional,\r\n      total: {\r\n        ...total,\r\n        orderId: state.orderId,\r\n      },\r\n    };\r\n    setConfirmData(null);\r\n    toOrder({ dispatch, payload });\r\n  };\r\n\r\n  return (\r\n    <ConfirmBox>\r\n      <h2>Правильно?</h2>\r\n      {state.currentPlace ? <p>Место: {state.currentPlace}</p> : <p>На вынос</p>}\r\n      {orderedCoffees.map(({ title, price, quantity }) => {\r\n        const newProps = { title, price, quantity };\r\n        return <ProductView key={title} {...newProps} />;\r\n      })}\r\n\r\n      {orderedAdditional.map(({ title, price, quantity }) => {\r\n        const newProps = { title, price, quantity };\r\n        return <ProductView key={title} {...newProps} />;\r\n      })}\r\n\r\n      <p>Время приготовления: {total.timePrepare} минут</p>\r\n      <p>Итого: {total.price} тенге</p>\r\n      <Controls marginTop>\r\n        <Button onClick={onConfirm}>Подвердить</Button>\r\n        <Button onClick={() => setConfirmData(null)}>Изменить</Button>\r\n      </Controls>\r\n    </ConfirmBox>\r\n  );\r\n}\r\n\r\nconst ConfirmBox = styled.div`\r\n  & > * {\r\n    padding: 3px 10px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { ProductView } from \"./ProductView\";\r\nimport { Button, Controls } from \"../lib/styles\";\r\n\r\nexport function Products({ data, title, type, onChangeQuantity }) {\r\n  return (\r\n    <div>\r\n      <h2>{title}</h2>\r\n      <ProductsWrap>\r\n        {data.map(({ title, price, timePrepare, quantity, imgSrc }) => {\r\n          const newProps = { title, price, timePrepare, imgSrc };\r\n          return (\r\n            <ProductWrap key={title}>\r\n              <ProductView {...newProps} />\r\n\r\n              <Controls center>\r\n                <Button\r\n                  link\r\n                  onClick={() => onChangeQuantity({ key: type, title, step: -1 })}\r\n                >\r\n                  &#10094;\r\n                </Button>\r\n                <p>{quantity}</p>\r\n                <Button\r\n                  link\r\n                  onClick={() => onChangeQuantity({ key: type, title, step: 1 })}\r\n                >\r\n                  &#10095;\r\n                </Button>\r\n              </Controls>\r\n            </ProductWrap>\r\n          );\r\n        })}\r\n      </ProductsWrap>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ProductWrap = styled.div`\r\n  padding: 10px;\r\n  margin: 10px 0;\r\n  width: 240px;\r\n  margin: 10px;\r\n  font-size: 18px;\r\n  border-radius: 3px;\r\n  border: 1px solid grey;\r\n\r\n  &:hover {\r\n    box-shadow: 1px 2px 5px #afaaaab8;\r\n  }\r\n`;\r\n\r\nconst ProductsWrap = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { store } from \"../store/store\";\r\nimport { changeQuantity } from \"../store/actions\";\r\nimport { Places } from \"./Places\";\r\nimport { ConfirmOrder } from \"./ConfirmOrder\";\r\nimport { Products } from \"./Products\";\r\nimport { Button, Controls } from \"../lib/styles\";\r\nimport styled from \"styled-components\";\r\n\r\nexport function Terminal() {\r\n  const [isTakeAway, setIsTakeAway] = useState(1); // 1 is take away\r\n  const { state, dispatch } = useContext(store);\r\n  const { coffees, additional } = state.products;\r\n  const [confirmData, setConfirmData] = useState(null);\r\n\r\n  const onChangeQuantity = (payload) => {\r\n    changeQuantity({ dispatch, payload });\r\n  };\r\n  const onOrder = () => {\r\n    const isFill = isTakeAway || (!isTakeAway && state.currentPlace);\r\n    if (!isFill) return alert(\"Выберите место\");\r\n    const orderedCoffees = coffees.filter((coffee) => coffee.quantity);\r\n    const orderedAdditional = additional.filter((item) => item.quantity);\r\n    if (!orderedCoffees.length) return alert(\"Закажите кофе\");\r\n    setConfirmData({ orderedCoffees, orderedAdditional });\r\n    setIsTakeAway(1);\r\n  };\r\n\r\n  return (\r\n    <TerminalWrap>\r\n      {!confirmData && (\r\n        <>\r\n          <Products\r\n            type=\"coffees\"\r\n            title=\"Кофе\"\r\n            data={coffees}\r\n            onChangeQuantity={onChangeQuantity}\r\n          />\r\n\r\n          <Products\r\n            type=\"additional\"\r\n            title=\"Дополнительно\"\r\n            data={additional}\r\n            onChangeQuantity={onChangeQuantity}\r\n          />\r\n\r\n          <Controls>\r\n            <Select\r\n              value={isTakeAway}\r\n              onChange={({ target: { value } }) => setIsTakeAway(+value)}\r\n            >\r\n              <option value={1}>На вынос</option>\r\n              <option value={0}>Здесь</option>\r\n            </Select>\r\n            <Button onClick={onOrder}>Заказать</Button>\r\n          </Controls>\r\n\r\n          {!isTakeAway && <Places />}\r\n        </>\r\n      )}\r\n\r\n      {confirmData && <ConfirmOrder {...confirmData} setConfirmData={setConfirmData} />}\r\n    </TerminalWrap>\r\n  );\r\n}\r\n\r\nconst TerminalWrap = styled.div`\r\n  padding: 10px 15px;\r\n\r\n  h2 {\r\n    padding: 5px 10px;\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  display: inline-block;\r\n  padding: 6px 5px;\r\n  border-radius: 5px;\r\n`;\r\n","import React, { useContext } from \"react\";\r\nimport { store } from \"../store/store\";\r\nimport styled from \"styled-components\";\r\n\r\nexport function TableOrders() {\r\n  const { state } = useContext(store);\r\n  const { processOrders, finishedOrders } = state;\r\n  return (\r\n    <Wrapper>\r\n      В процессе:\r\n      <Orders>\r\n        {processOrders.map(({ orderId, place, remainingSeconds }) => (\r\n          <div key={orderId}>\r\n            <p>Номер заказа: {orderId}</p>\r\n            <p>Место: {place ? place : \"На вынос\"}</p>\r\n            <p>Осталось: {remainingSeconds} секунд</p>\r\n          </div>\r\n        ))}\r\n      </Orders>\r\n      Готово:\r\n      <Orders>\r\n        {finishedOrders.map(({ orderId, place, doneTime }) => (\r\n          <div key={orderId}>\r\n            <p>Номер заказа: {orderId}</p>\r\n            <p>Место: {place ? place : \"На вынос\"}</p>\r\n            <p>Завершено в: {doneTime} </p>\r\n          </div>\r\n        ))}\r\n      </Orders>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  background: #333;\r\n  color: #62dbfb;\r\n  padding: 10px 15px;\r\n  font-weight: 900;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst Orders = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  & > div {\r\n    margin: 5px;\r\n    border: 1px solid #caa0a0c2;\r\n    padding: 5px;\r\n    width: 160px;\r\n    border-radius: 5px;\r\n    font-size: 16px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Header } from \"./components/Header\";\r\nimport { Terminal } from \"./components/Terminal\";\r\nimport { TableOrders } from \"./components/TableOrders\";\r\n\r\nexport function App() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <TableOrders />\r\n      <Terminal />\r\n    </>\r\n  );\r\n}\r\n","import React, { Suspense } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { App } from \"./App\";\r\nimport { StateProvider } from \"./store/store\";\r\nimport { GlobalStyle } from \"./lib/styles\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Suspense fallback={<p>Загрузка...</p>}>\r\n      <StateProvider>\r\n        <GlobalStyle />\r\n        <App />\r\n      </StateProvider>\r\n    </Suspense>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}