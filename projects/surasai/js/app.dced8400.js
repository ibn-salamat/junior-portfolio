(function(t){function e(e){for(var a,i,o=e[0],u=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],r[i]&&m.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var u=s[o];0!==r[u]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("64a9"),r=s.n(a);r.a},"376e":function(t,e,s){},"3c90":function(t,e,s){},"4dcc":function(t,e,s){},"4fdc":function(t,e,s){"use strict";var a=s("4dcc"),r=s.n(a);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Header",{attrs:{links:t.links}}),s("router-view"),t._m(0)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"uk-margin-medium-remove uk-background-secondary"},[s("p",{staticClass:"uk-margin-remove uk-text-center",staticStyle:{"padding-top":"5px"}},[t._v("\n      created by\n      "),s("a",{staticClass:"uk-padding-remove",staticStyle:{"font-size":"14px"},attrs:{href:"https://nurlykhan06.github.io/index.html",target:"_blank"}},[t._v("NURLYKHAN")])])])}],i=(s("a481"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"uk-navbar-container uk-margin",attrs:{"uk-navbar":"mode: click"}},[s("div",{staticClass:"my-nav-container uk-flex uk-flex-between"},[s("router-link",{staticStyle:{"font-size":"18px"},attrs:{tag:"a",to:"/","active-class":"my-active-class",exact:""}},[s("a",{attrs:{href:"/"},on:{click:function(e){t.menuState=!1}}},[t._v("surasai")])]),s("div",{ref:"dropdownMenu",staticClass:"my-nav-right"},[t._l(t.links,function(e){return s("router-link",{key:e.title,class:{"uk-active":"/register"==t.$route.path&&"авторизация"==e.title.toLowerCase()},attrs:{tag:"a",to:e.url,"active-class":"my-active-class",exact:""}},[s("span",{on:{click:function(e){t.menuState=!1}}},[t._v(t._s(e.title))])])}),t.$store.getters.user?s("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logoutUser(e)}}},[t._v("Выйти")]):t._e(),t._m(0)],2),s("a",{staticClass:"uk-navbar-toggle my-nav-toggle",attrs:{"uk-navbar-toggle-icon":"",href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleMenu(e)}}})],1)])])}),o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"author uk-margin-large-top"},[t._v("\n          created by\n          "),s("a",{staticClass:"uk-padding-remove",staticStyle:{"font-size":"14px"},attrs:{href:"https://nurlykhan06.github.io/index.html",target:"_blank"}},[t._v("NURLYKHAN")])])}],u={data:function(){return{menuState:!1}},watch:{menuState:function(){this.menuState?(this.$refs.dropdownMenu.classList.add("active"),document.body.style.overflow="hidden"):(this.$refs.dropdownMenu.classList.remove("active"),document.body.style.overflow="auto")}},props:{links:Array},methods:{logoutUser:function(){var t=this;this.menuState=!1,this.$store.dispatch("logoutUser").then(function(){t.$router.push("/login")}).catch(function(){})},toggleMenu:function(){this.menuState=!this.menuState,window.scroll({top:0,left:0,behavior:"smooth"})}}},l=u,c=(s("8baf"),s("2877")),d=Object(c["a"])(l,i,o,!1,null,null,null),m=d.exports,p={data:function(){return{}},computed:{links:function(){return this.$store.getters.user?[{title:"Моя страница",url:"/user/".concat(this.$store.getters.user.email.replace("@surasai.kz",""))},{title:"Пользователи",url:"/users"}]:[{title:"Авторизация",url:"/login"},{title:"Пользователи",url:"/users"}]}},methods:{},components:{Header:m}},f=p,v=(s("034f"),Object(c["a"])(f,r,n,!1,null,null,null)),h=v.exports,g=s("2f62"),k=(s("96cf"),s("3b8d")),b={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(e,s){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,s.email+="@surasai.kz",t.prev=2,t.next=5,firebase.auth().createUserWithEmailAndPassword(s.email,s.password);case 5:a=t.sent,r={id:a.user.uid,email:a.user.email,username:s.username,password:s.password,registerDate:"".concat((new Date).toLocaleDateString("en-GB")," ").concat((new Date).getHours(),":").concat((new Date).getMinutes())},firebase.database().ref("/users/"+r.id).set(r),t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](2),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}},t,null,[[2,10]])}));function e(e,s){return t.apply(this,arguments)}return e}(),signInUser:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(e,s){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,s.email+="@surasai.kz",t.prev=2,t.next=5,firebase.auth().signInWithEmailAndPassword(s.email,s.password);case 5:return r=t.sent,t.next=8,firebase.database().ref("users/"+r.user.uid).once("value",function(t){a("setUser",t.val())});case 8:t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](2),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}},t,null,[[2,10]])}));function e(e,s){return t.apply(this,arguments)}return e}(),autoSignIn:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(e,s){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,firebase.database().ref("users/"+s.uid).once("value",function(t){a("setUser",t.val())});case 3:case"end":return t.stop()}},t)}));function e(e,s){return t.apply(this,arguments)}return e}(),logoutUser:function(t){var e=t.commit;firebase.auth().signOut().then(function(){e("setUser",null)}).catch(function(t){console.log(t.message)})}},getters:{user:function(t){return t.user}}};a["a"].use(g["a"]);var w=new g["a"].Store({modules:{user:b}}),_=s("8c4f"),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-container"},[s("h1",{staticClass:"uk-text-center uk-margin-remove",staticStyle:{"font-size":"55px"}},[t._v("surasai")]),s("p",{staticClass:"uk-text-center uk-margin-remove"},[t._v("ask me anything.")]),this.$store.getters.user?s("div",[s("router-link",{attrs:{tag:"a",to:"/user/"+t.email}},[t._v("Моя страница")])],1):s("div",{staticClass:"uk-margin-small-top"},[s("router-link",{attrs:{tag:"a",to:"/register"}},[t._v("Регистрация")]),s("span",{staticClass:"uk-margin-small-left"}),s("router-link",{attrs:{tag:"a",to:"/login"}},[t._v("Войти")])],1)])},C=[],y={data:function(){return{email:""}},created:function(){this.$store.getters.user&&(this.email=this.$store.getters.user.email.replace("@surasai.kz",""))}},S=y,$=(s("4fdc"),Object(c["a"])(S,x,C,!1,null,"29720cda",null)),O=$.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uk-container uk-padding-small uk-margin-bottom"},[s("div",{staticClass:"uk-container-xsmall form-container uk-margin-auto"},[s("form",[s("fieldset",{staticClass:"uk-fieldset"},[s("legend",{staticClass:"uk-legend"},[t._v("Войти в систему")]),s("div",{staticClass:"uk-margin"},[s("p",{staticClass:"uk-margin-small-bottom"},[t._v("Имя пользователя")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",staticClass:"uk-input",attrs:{type:"email",placeholder:"nukaizpimka"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"uk-margin"},[s("p",{staticClass:"uk-margin-small-bottom"},[t._v("Ваш пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",staticClass:"uk-input",attrs:{type:"password",placeholder:"mamapapa2015"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("error",{attrs:{errorState:t.errorState,errors:t.errors}}),s("div",{staticClass:"uk-flex uk-flex-between"},[s("router-link",{staticClass:"uk-button uk-button-link",attrs:{to:"/register",tag:"button"}},[t._v("Регистрация")]),s("button",{staticClass:"uk-button uk-button-primary",on:{click:function(e){return e.preventDefault(),t.signInUser(e)}}},[t._v("Войти")])],1)],1)])]),t.loading?s("loader"):t._e()],1)},Q=[],P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fadeHeight"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.errorState,expression:"errorState"}],staticClass:"uk-alert-danger",attrs:{"uk-alert":""}},t._l(t.errors,function(e){return s("p",{key:e},[t._v(t._s(e))])}),0)])},D=[],E={props:["errors","errorState"]},L=E,U=(s("6e21"),Object(c["a"])(L,P,D,!1,null,null,null)),q=U.exports,z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"container"}},[s("span",{attrs:{"uk-spinner":"ratio: 4.5"}})])}],H=(s("a3f5"),{}),M=Object(c["a"])(H,z,N,!1,null,"6a568f38",null),I=M.exports,R={watch:{errorState:function(){var t=this;1==this.errorState&&setTimeout(function(){for(var e in t.$refs)t.$refs[e].classList.contains("uk-form-danger")&&t.$refs[e].classList.remove("uk-form-danger");t.errors.length=0,t.errorState=!1},2500)}}},T=R,A={mixins:[T],data:function(){return{email:"",password:"",errorState:!1,errors:[],loading:!1}},methods:{signInUser:function(){var t=this,e={email:this.email,password:this.password};this.email.trim().length>3&&this.password.trim().length>6?(this.loading=!0,this.$store.dispatch("signInUser",e).then(function(e){try{e.code&&(t.showError("Неправильный email или пароль"),t.loading=!1)}catch(s){t.loading=!1,t.$router.push("/user/".concat(t.email))}})):this.showError("Неправильный email или пароль")},showError:function(t){var e=this;this.errors.push(t),this.errorState=!0,this.$refs.email.classList.add("uk-form-danger"),this.$refs.password.classList.add("uk-form-danger"),this.errors=this.errors.filter(function(t,s){return e.errors.indexOf(t)>=s})}},components:{error:q,loader:I}},B=A,G=(s("d6db"),Object(c["a"])(B,j,Q,!1,null,null,null)),F=G.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uk-container uk-padding-small  uk-margin-bottom"},[s("success",{attrs:{successState:t.successState,successText:t.successText},on:{closeAlert:function(e){t.successState=!1}}}),s("div",{staticClass:"uk-container-xsmall form-container uk-margin-auto"},[s("form",[s("fieldset",{staticClass:"uk-fieldset"},[s("legend",{staticClass:"uk-legend"},[t._v("Регистрация нового пользователя")]),s("div",{staticClass:"uk-margin"},[s("p",{staticClass:"uk-margin-small-bottom"},[t._v("Ваше полное имя")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],ref:"fullname",staticClass:"uk-input",attrs:{type:"text",placeholder:"Пацан Молодой"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"uk-margin"},[s("p",{staticClass:"uk-margin-small-bottom"},[t._v("Имя пользователя")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"username",staticClass:"uk-input",attrs:{type:"email",placeholder:"nukaizpimka"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"uk-margin"},[s("p",{staticClass:"uk-margin-small-bottom"},[t._v("Ваш пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",staticClass:"uk-input",attrs:{type:"password",placeholder:"mamapapa2015"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"uk-margin"},[s("p",{staticClass:"uk-margin-small-bottom"},[t._v("Повторите пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.repeatPassword,expression:"repeatPassword"}],ref:"repeatPassword",staticClass:"uk-input",attrs:{type:"password",placeholder:"mamapapa2015"},domProps:{value:t.repeatPassword},on:{input:function(e){e.target.composing||(t.repeatPassword=e.target.value)}}})]),s("error",{attrs:{errorState:t.errorState,errors:t.errors}}),s("div",{staticClass:"uk-flex uk-flex-between"},[s("router-link",{staticClass:"uk-button uk-button-link",attrs:{to:"/login",tag:"button"}},[t._v("Войти")]),s("button",{staticClass:"uk-button uk-button-primary",on:{click:function(e){return e.preventDefault(),t.registerUser(e)}}},[t._v("Регистрация")])],1)],1)])]),t.loading?s("loader"):t._e()],1)},Y=[],J=(s("ac6a"),s("8615"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fadeHeight"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.successStateData,expression:"successStateData"}],staticClass:"uk-alert-success uk-margin-small-bottom",attrs:{"uk-alert":"",id:"alert-success"}},[s("button",{attrs:{type:"button",id:"close-btn","uk-close":""},on:{click:function(e){return t.$emit("closeAlert",!1)}}}),s("p",{staticClass:"uk-margin-remove-top"},[t._v(t._s(t.successText))])])])}),W=[],V={props:["successState","successText"],data:function(){return{}},computed:{successStateData:function(){return this.successState}},created:function(){}},X=V,Z=(s("9ea1"),Object(c["a"])(X,J,W,!1,null,"6584177d",null)),tt=Z.exports,et={mixins:[T],data:function(){return{username:"",email:"",password:"",repeatPassword:"",errors:[],errorState:!1,loading:!1,successState:!1,successText:"",createdUsername:""}},methods:{registerUser:function(){this.successState=!1;var t={username:this.username,email:this.email,password:this.password,repeatPassword:this.repeatPassword};this.validator(t)},validator:function(t){var e=this,s=t.username,a=t.email,r=t.password,n=t.repeatPassword,i={username:!1,email:!1,password:!1,repeatPassword:!1};s.trim().length>4?(this.$refs.fullname.classList.remove("uk-form-danger"),i.username=!0):(this.$refs.fullname.classList.add("uk-form-danger"),this.validatorHelper("Полное имя должен быть больше 4 символов")),a.trim().length>3?(this.$refs.username.classList.remove("uk-form-danger"),i.email=!0):(this.$refs.username.classList.add("uk-form-danger"),this.validatorHelper("Имя пользователя должен быть больше 3 символов")),r.trim().length>6?(this.$refs.password.classList.remove("uk-form-danger"),i.password=!0):(this.$refs.password.classList.add("uk-form-danger"),this.validatorHelper("Пароль должен быть больше 6 символов")),r.trim()||(r=null),r===n?(this.$refs.repeatPassword.classList.remove("uk-form-danger"),i.repeatPassword=!0):(this.$refs.repeatPassword.classList.add("uk-form-danger"),this.validatorHelper("Пароли должны совпадать"));var o=Object.values(i),u=o.every(function(t){return!0===t});u&&(this.loading=!0,this.$store.dispatch("registerUser",t).then(function(t){e.loading=!1;try{"auth/email-already-in-use"==t.code?(e.$refs.username.classList.add("uk-form-danger"),e.validatorHelper("Имя пользователя занято")):t.code&&(e.errorState=!0,e.errors.push("Что-то не так"))}catch(a){e.createdUsername=s,e.email="",e.username="",e.password="",e.repeatPassword="",e.successState=!0,e.successText="Учетная запись успешно создана. Можете войти в систему, уважаемый(-ая) ".concat(e.createdUsername,". Наслаждайтесь!")}}).catch(function(t){return console.log(t.message)}))},validatorHelper:function(t){var e=this;this.errorState=!0,this.errors.push(t),this.errors=this.errors.filter(function(t,s){return e.errors.indexOf(t)>=s})}},components:{error:q,loader:I,success:tt},created:function(){}},st=et,at=Object(c["a"])(st,K,Y,!1,null,null,null),rt=at.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",{staticClass:"uk-text-center uk-margin-small-bottom"},[t._v("\n    "+t._s(t.email)+"\n    "),s("span",{directives:[{name:"show",rawName:"v-show",value:+t.newQuestions>0&&!0===t.admin,expression:"+newQuestions > 0 && admin === true"}],staticClass:"uk-badge"},[t._v(t._s(t.newQuestions))])]),s("h2",{staticClass:"uk-text-center uk-margin-remove-vertical"},[t._v(t._s(t.username))]),s("p",{staticClass:"uk-text-center uk-margin-small-top"},[t._v("Дата регистрации "+t._s(t.date))]),s("div",{staticClass:"uk-padding-small form-wrap"},[s("form",[s("fieldset",{staticClass:"uk-fieldset"},[s("legend",{staticClass:"uk-legend"},[t._v("Задать вопрос")]),s("div",{staticClass:"uk-margin"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.yourQuestion,expression:"yourQuestion"}],ref:"questionInput",staticClass:"uk-input",attrs:{type:"text",placeholder:"Кеш жарыққада дәптер арнаймызба?)"},domProps:{value:t.yourQuestion},on:{input:function(e){e.target.composing||(t.yourQuestion=e.target.value)}}})]),s("error",{attrs:{errorState:t.errorState,errors:t.errors}}),s("button",{staticClass:"uk-button uk-button-primary",staticStyle:{display:"block","margin-left":"auto"},on:{click:function(e){return e.preventDefault(),t.sendQuestion(e)}}},[t._v("Отправить")])],1)])]),s("div",{staticClass:"questions uk-background-primary uk-padding-small"},[0==t.questions.length?s("h2",{staticClass:"uk-light uk-margin-remove uk-text-center uk-padding-large"},[t._v("Вопросов нет.")]):t._e(),t._l(t.sortedQuestions,function(e){return s("div",{key:e.id,staticClass:"question uk-card uk-card-default uk-width-1-2@m uk-margin-auto uk-margin-top uk-margin-bottom"},[s("div",{staticClass:"uk-card-header"},[s("div",{staticClass:"uk-grid-small uk-flex-middle",attrs:{"uk-grid":""}},[s("div",{staticClass:"uk-width-expand"},[s("h3",{staticClass:"question-text uk-card-title uk-margin-remove-bottom"},[t._v(t._s(e.question))]),s("p",{staticClass:"uk-text-meta uk-margin-remove-top"},[s("time",{attrs:{datetime:e.date}},[t._v(t._s(e.date))])])])])]),s("div",{staticClass:"answer-text uk-card-body uk-padding-remove"},[!1===t.admin?s("p",[t._v(t._s(e.answer))]):t._e(),t.admin?s("div",{staticClass:"answer-form"},[s("p",[t._v(t._s(e.answer))]),s("input",{staticClass:"uk-input",attrs:{type:"text",placeholder:e.answer}}),s("div",{staticClass:"uk-button-group uk-margin-top"},[s("button",{staticClass:"uk-button uk-button-primary uk-button-small uk-text-ligher",attrs:{"data-id":e.id},on:{click:t.answerQuestion}},[t._v("Ответить")]),s("button",{staticClass:"uk-button uk-button-danger uk-button-small uk-text-lighter",attrs:{"data-id":e.id},on:{click:t.deleteQuestion}},[t._v("Удалить")])])]):t._e()])])})],2),t.loading?s("loader"):t._e()],1)},it=[],ot=(s("6762"),s("55dd"),s("c5f6"),{mixins:[T],data:function(){return{newQuestions:Number,admin:!1,loading:!0,email:this.$router.currentRoute.params["email"],username:"",id:"",password:"",date:"",errorState:!1,errors:[],yourQuestion:"",questions:[]}},computed:{sortedQuestions:function(){var t=this.questions.sort(function(t,e){return new Date(e.dateForSort)-new Date(t.dateForSort)});return t}},methods:{sendQuestion:function(){var t=this;if(this.yourQuestion.trim().length<5)this.errors.length=0,this.errorState=!0,this.errors.push("Минимум 5 символов"),this.$refs.questionInput.classList.add("uk-form-danger");else{this.loading=!0;var e=new Date,s=firebase.database().ref("/users/"+this.id+"/questions").push().key;firebase.database().ref("/users/"+this.id+"/questions/"+s).set({question:this.yourQuestion,answer:"Не отвечено",date:"".concat(e.toLocaleDateString("en-GB")," ").concat(e.getHours(),":").concat(e.getMinutes()),dateForSort:"".concat(e.toLocaleDateString("en-GB")," ").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds()),id:s}).then(function(){t.updateQuestions()}).then(function(){t.yourQuestion="",t.loading=!1})}},updateQuestions:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(){var e,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.newQuestions=0,e={},t.next=5,firebase.database().ref("/users").once("value",function(t){s.questions.length=0,Object.values(t.val()).forEach(function(t){t.email.replace("@surasai.kz","")===s.email&&(e=t,t.questions&&Object.values(t.questions).forEach(function(t){"Не отвечено"==t.answer&&s.newQuestions++,s.questions.push(t)}))})});case 5:return this.loading=!1,t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),deleteQuestion:function(){var t=this,e=event.target.dataset.id;this.loading=!0,firebase.database().ref("/users/"+this.id+"/questions/"+e).set(null).then(function(){t.updateQuestions()})},answerQuestion:function(){var t=this,e=event.target.dataset.id,s=event.target.parentNode.previousSibling.value;s.trim()&&(this.loading=!0,firebase.database().ref("/users/"+this.id+"/questions/"+e).update({answer:s}).then(function(){t.updateQuestions(),t.loading=!1}))}},beforeCreate:function(){var t=this,e=[];firebase.database().ref("/users").once("value",function(s){Object.values(s.val()).forEach(function(t){e.push(t.email.replace("@surasai.kz",""))}),!1===e.includes(t.email)&&t.$router.push("/error")})},created:function(){var t=this,e={};this.updateQuestions().then(function(s){e=s,t.loading=!1,t.id=e.id,t.username=e.username,t.date=e.registerDate}).then(function(){t.$store.getters.user&&t.$store.getters.user.email.replace("@surasai.kz","")===t.email&&(t.admin=!0)})},components:{error:q,loader:I}}),ut=ot,lt=(s("8ae1"),Object(c["a"])(ut,nt,it,!1,null,"d4bdee8a",null)),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uk-container  uk-padding-small  uk-margin-bottom"},[s("h2",{staticClass:"uk-text-center"},[t._v("Список пользователей")]),s("table",{staticClass:"uk-table uk-table-striped",staticStyle:{"font-size":"13px"}},[t._m(0),s("tbody",t._l(t.users,function(e){return s("tr",{key:e.registerDate},[s("td",[s("router-link",{attrs:{to:"/user/"+e.email}},[t._v(t._s(e.email))])],1),s("td",[t._v(t._s(e.registerDate))]),s("td",{staticClass:"uk-text-center"},[t._v(t._s(e.sumQuestions))])])}),0)]),t.loading?s("loader"):t._e()],1)},mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("\n          Инфо\n          "),s("br"),t._v("юзера\n        ")]),s("th",[t._v("\n          Дата\n          "),s("br"),t._v("создания\n        ")]),s("th",{staticClass:"uk-text-center"},[t._v("\n          Задано\n          "),s("br"),t._v("вопросов\n        ")])])])}],pt={data:function(){return{users:[],test:[],loading:!1}},created:function(){var t=this;this.loading=!0,firebase.database().ref("/users").once("value",function(e){Object.values(e.val()).forEach(function(e){var s={};s.email=e.email.replace("@surasai.kz",""),s.registerDate=e.registerDate,e.questions?s.sumQuestions=Object.values(e.questions).length:s.sumQuestions="0",t.users.push(s)})}).then(function(){t.loading=!1})},components:{loader:I}},ft=pt,vt=Object(c["a"])(ft,dt,mt,!1,null,null,null),ht=vt.exports,gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"uk-padding uk-text-center"},[t._v("\n    Ошибка (404)\n    "),s("br"),t._v("Такой страницы не существует.\n  ")])])}],bt={},wt=bt,_t=Object(c["a"])(wt,gt,kt,!1,null,null,null),xt=_t.exports;a["a"].use(_["a"]);var Ct=new _["a"]({mode:"history",routes:[{path:"/login",component:F},{path:"/register",component:rt},{path:"/",component:O},{path:"/user/:email",component:ct},{path:"/users",component:ht},{path:"*",component:xt}]});firebase.initializeApp({apiKey:"AIzaSyD82NHYrdg9ReTTncyzEM8GMe88MgDwLIU",authDomain:"surasai.firebaseapp.com",databaseURL:"https://surasai.firebaseio.com",projectId:"surasai",storageBucket:"",messagingSenderId:"69437968197",appId:"1:69437968197:web:5ec99fc8a4c818bf"}),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(h)},store:w,created:function(){var t=this;firebase.auth().onAuthStateChanged(function(e){return e?t.$store.dispatch("autoSignIn",e):""})},router:Ct}).$mount("#app")},"64a9":function(t,e,s){},"6e21":function(t,e,s){"use strict";var a=s("376e"),r=s.n(a);r.a},"782e":function(t,e,s){},"8ae1":function(t,e,s){"use strict";var a=s("b9f3"),r=s.n(a);r.a},"8baf":function(t,e,s){"use strict";var a=s("782e"),r=s.n(a);r.a},"9ea1":function(t,e,s){"use strict";var a=s("3c90"),r=s.n(a);r.a},a3f5:function(t,e,s){"use strict";var a=s("ba5a"),r=s.n(a);r.a},a9e7:function(t,e,s){},b9f3:function(t,e,s){},ba5a:function(t,e,s){},d6db:function(t,e,s){"use strict";var a=s("a9e7"),r=s.n(a);r.a}});
//# sourceMappingURL=app.dced8400.js.map